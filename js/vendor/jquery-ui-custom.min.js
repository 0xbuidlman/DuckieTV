/*
 * jQuery UI Core @VERSION
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(c){c.ui=c.ui||{};c.extend(c.ui,{version:"@VERSION",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});c.fn.extend({focus:(function(d){return function(f,e){return typeof f==="number"?this.each(function(){var g=this;setTimeout(function(){c(g).focus();if(e){e.call(g)}},f)}):d.apply(this,arguments)}})(c.fn.focus),scrollParent:function(){var d=this.css("position"),f=d==="absolute",e=this.parents().filter(function(){var g=c(this);if(f&&g.css("position")==="static"){return false}return(/(auto|scroll)/).test(g.css("overflow")+g.css("overflow-y")+g.css("overflow-x"))}).eq(0);return d==="fixed"||!e.length?c(this[0].ownerDocument||document):e},uniqueId:(function(){var d=0;return function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++d)}})}})(),removeUniqueId:function(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id)){c(this).removeAttr("id")}})}});function b(e,i){var f,d,g,h=e.nodeName.toLowerCase();if("area"===h){f=e.parentNode;d=f.name;if(!e.href||!d||f.nodeName.toLowerCase()!=="map"){return false}g=c("img[usemap=#"+d+"]")[0];return !!g&&a(g)}return(/input|select|textarea|button|object/.test(h)?!e.disabled:"a"===h?e.href||i:i)&&a(e)}function a(d){return c.expr.filters.visible(d)&&!c(d).parents().addBack().filter(function(){return c.css(this,"visibility")==="hidden"}).length}c.extend(c.expr[":"],{data:c.expr.createPseudo?c.expr.createPseudo(function(d){return function(e){return !!c.data(e,d)}}):function(e,d,f){return !!c.data(e,f[3])},focusable:function(d){return b(d,!isNaN(c.attr(d,"tabindex")))},tabbable:function(f){var d=c.attr(f,"tabindex"),e=isNaN(d);return(e||d>=0)&&b(f,!e)}});if(!c("<a>").outerWidth(1).jquery){c.each(["Width","Height"],function(e,h){var j=h==="Width"?["Left","Right"]:["Top","Bottom"],g=h.toLowerCase(),f={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};function d(m,k,i,l){c.each(j,function(){k-=parseFloat(c.css(m,"padding"+this))||0;if(i){k-=parseFloat(c.css(m,"border"+this+"Width"))||0}if(l){k-=parseFloat(c.css(m,"margin"+this))||0}});return k}c.fn["inner"+h]=function(i){if(i===undefined){return f["inner"+h].call(this)}return this.each(function(){c(this).css(g,d(this,i)+"px")})};c.fn["outer"+h]=function(k,i){if(typeof k!=="number"){return f["outer"+h].call(this,k)}return this.each(function(){c(this).css(g,d(this,k,true,i)+"px")})}})}if(!c.fn.addBack){c.fn.addBack=function(d){return this.add(d==null?this.prevObject:this.prevObject.filter(d))}}if(c("<a>").data("a-b","a").removeData("a-b").data("a-b")){c.fn.removeData=(function(d){return function(e){if(arguments.length){return d.call(this,c.camelCase(e))}else{return d.call(this)}}})(c.fn.removeData)}c.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());c.support.selectstart="onselectstart" in document.createElement("div");c.fn.extend({disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(d){d.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(f){if(f!==undefined){return this.css("zIndex",f)}if(this.length){var g=c(this[0]),d,e;while(g.length&&g[0]!==document){d=g.css("position");if(d==="absolute"||d==="relative"||d==="fixed"){e=parseInt(g.css("zIndex"),10);if(!isNaN(e)&&e!==0){return e}}g=g.parent()}}return 0}});c.ui.plugin={add:function(f,e,g){var d,h=c.ui[f].prototype;for(d in g){h.plugins[d]=h.plugins[d]||[];h.plugins[d].push([e,g[d]])}},call:function(f,h,j,e){var d,g=f.plugins[h];if(!g){return}if(!e&&(!f.element[0].parentNode||f.element[0].parentNode.nodeType===11)){return}for(d=0;d<g.length;d++){if(f.options[g[d][0]]){g[d][1].apply(f.element,j)}}}}}));
/*
 * jQuery UI Widget @VERSION
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(c){var a=0,b=Array.prototype.slice;c.cleanData=(function(d){return function(h){for(var f=0,g;(g=h[f])!=null;f++){try{c(g).triggerHandler("remove")}catch(j){}}d(h)}})(c.cleanData);c.widget=function(j,d,k){var e,i,h,g,l={},f=j.split(".")[0];j=j.split(".")[1];e=f+"-"+j;if(!k){k=d;d=c.Widget}c.expr[":"][e.toLowerCase()]=function(m){return !!c.data(m,e)};c[f]=c[f]||{};i=c[f][j];h=c[f][j]=function(n,m){if(!this._createWidget){return new h(n,m)}if(arguments.length){this._createWidget(n,m)}};c.extend(h,i,{version:k.version,_proto:c.extend({},k),_childConstructors:[]});g=new d();g.options=c.widget.extend({},g.options);c.each(k,function(m,n){if(!c.isFunction(n)){l[m]=n;return}l[m]=(function(){var o=function(){return d.prototype[m].apply(this,arguments)},p=function(q){return d.prototype[m].apply(this,q)};return function(){var r=this._super,s=this._superApply,q;this._super=o;this._superApply=p;q=n.apply(this,arguments);this._super=r;this._superApply=s;return q}})()});h.prototype=c.widget.extend(g,{widgetEventPrefix:i?(g.widgetEventPrefix||j):j},l,{constructor:h,namespace:f,widgetName:j,widgetFullName:e});if(i){c.each(i._childConstructors,function(m,o){var n=o.prototype;c.widget(n.namespace+"."+n.widgetName,h,o._proto)});delete i._childConstructors}else{d._childConstructors.push(h)}c.widget.bridge(j,h);return h};c.widget.extend=function(e){var g=b.call(arguments,1),h=0,f=g.length,i,d;for(;h<f;h++){for(i in g[h]){d=g[h][i];if(g[h].hasOwnProperty(i)&&d!==undefined){if(c.isPlainObject(d)){e[i]=c.isPlainObject(e[i])?c.widget.extend({},e[i],d):c.widget.extend({},d)}else{e[i]=d}}}}return e};c.widget.bridge=function(f,e){var d=e.prototype.widgetFullName||f;c.fn[f]=function(j){var i=typeof j==="string",g=b.call(arguments,1),h=this;j=!i&&g.length?c.widget.extend.apply(null,[j].concat(g)):j;if(i){this.each(function(){var k,l=c.data(this,d);if(j==="instance"){h=l;return false}if(!l){return c.error("cannot call methods on "+f+" prior to initialization; attempted to call method '"+j+"'")}if(!c.isFunction(l[j])||j.charAt(0)==="_"){return c.error("no such method '"+j+"' for "+f+" widget instance")}k=l[j].apply(l,g);if(k!==l&&k!==undefined){h=k&&k.jquery?h.pushStack(k.get()):k;return false}})}else{this.each(function(){var k=c.data(this,d);if(k){k.option(j||{});if(k._init){k._init()}}else{c.data(this,d,new e(j,this))}})}return h}};c.Widget=function(){};c.Widget._childConstructors=[];c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(e,d){d=c(d||this.defaultElement||this)[0];this.element=c(d);this.uuid=a++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=c.widget.extend({},this.options,this._getCreateOptions(),e);this.bindings=c();this.hoverable=c();this.focusable=c();if(d!==this){c.data(d,this.widgetFullName,this);this._on(true,this.element,{remove:function(f){if(f.target===d){this.destroy()}}});this.document=c(d.style?d.ownerDocument:d.document||d);this.window=c(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},option:function(j,d){var f=j,h,g,e;if(arguments.length===0){return c.widget.extend({},this.options)}if(typeof j==="string"){f={};h=j.split(".");j=h.shift();if(h.length){g=f[j]=c.widget.extend({},this.options[j]);for(e=0;e<h.length-1;e++){g[h[e]]=g[h[e]]||{};g=g[h[e]]}j=h.pop();if(arguments.length===1){return g[j]===undefined?null:g[j]}g[j]=d}else{if(arguments.length===1){return this.options[j]===undefined?null:this.options[j]}f[j]=d}}this._setOptions(f);return this},_setOptions:function(e){var d;for(d in e){this._setOption(d,e[d])}return this},_setOption:function(d,e){this.options[d]=e;if(d==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled",!!e);if(e){this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}}return this},enable:function(){return this._setOptions({disabled:false})},disable:function(){return this._setOptions({disabled:true})},_on:function(d,f,h){var e,g=this;if(typeof d!=="boolean"){h=f;f=d;d=false}if(!h){h=f;f=this.element;e=this.widget()}else{f=e=c(f);this.bindings=this.bindings.add(f)}c.each(h,function(n,l){function j(){if(!d&&(g.options.disabled===true||c(this).hasClass("ui-state-disabled"))){return}return(typeof l==="string"?g[l]:l).apply(g,arguments)}if(typeof l!=="string"){j.guid=l.guid=l.guid||j.guid||c.guid++}var k=n.match(/^([\w:-]*)\s*(.*)$/),m=k[1]+g.eventNamespace,i=k[2];if(i){e.delegate(i,m,j)}else{f.bind(m,j)}})},_off:function(d,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;d.unbind(e).undelegate(e)},_delay:function(g,d){function e(){return(typeof g==="string"?f[g]:g).apply(f,arguments)}var f=this;return setTimeout(e,d||0)},_hoverable:function(d){this.hoverable=this.hoverable.add(d);this._on(d,{mouseenter:function(e){c(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){c(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(d){this.focusable=this.focusable.add(d);this._on(d,{focusin:function(e){c(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){c(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(h,i,d){var g,e,f=this.options[h];d=d||{};i=c.Event(i);i.type=(h===this.widgetEventPrefix?h:this.widgetEventPrefix+h).toLowerCase();i.target=this.element[0];e=i.originalEvent;if(e){for(g in e){if(!(g in i)){i[g]=e[g]}}}this.element.trigger(i,d);return !(c.isFunction(f)&&f.apply(this.element[0],[i].concat(d))===false||i.isDefaultPrevented())}};c.each({show:"fadeIn",hide:"fadeOut"},function(d,e){c.Widget.prototype["_"+d]=function(i,j,f){if(typeof j==="string"){j={effect:j}}var h,g=!j?d:j===true||typeof j==="number"?e:j.effect||e;j=j||{};if(typeof j==="number"){j={duration:j}}h=!c.isEmptyObject(j);j.complete=f;if(j.delay){i.delay(j.delay)}if(h&&c.effects&&c.effects.effect[g]){i[d](j)}else{if(g!==d&&i[g]){i[g](j.duration,j.easing,f)}else{i.queue(function(k){c(this)[d]();if(f){f.call(i[0])}k()})}}}});return c.widget}));
/*
 * jQuery UI Mouse @VERSION
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","./widget"],a)}else{a(jQuery)}}(function(b){var a=false;b(document).mouseup(function(){a=false});return b.widget("ui.mouse",{version:"@VERSION",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(d){return c._mouseDown(d)}).bind("click."+this.widgetName,function(d){if(true===b.data(d.target,c.widgetName+".preventClickEvent")){b.removeData(d.target,c.widgetName+".preventClickEvent");d.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(e){if(a){return}(this._mouseStarted&&this._mouseUp(e));this._mouseDownEvent=e;var d=this,c=(e.which===1),f=(typeof this.options.cancel==="string"&&e.target.nodeName?b(e.target).closest(this.options.cancel).length:false);if(!c||f||!this._mouseCapture(e)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=(this._mouseStart(e)!==false);if(!this._mouseStarted){e.preventDefault();return true}}if(true===b.data(e.target,this.widgetName+".preventClickEvent")){b.removeData(e.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(g){return d._mouseMove(g)};this._mouseUpDelegate=function(g){return d._mouseUp(g)};this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);e.preventDefault();a=true;return true},_mouseMove:function(c){if(b.ui.ie&&(!document.documentMode||document.documentMode<9)&&!c.button){return this._mouseUp(c)}else{if(!c.which){return this._mouseUp(c)}}if(this._mouseStarted){this._mouseDrag(c);return c.preventDefault()}if(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,c)!==false);(this._mouseStarted?this._mouseDrag(c):this._mouseUp(c))}return !this._mouseStarted},_mouseUp:function(c){this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(c.target===this._mouseDownEvent.target){b.data(c.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(c)}a=false;return false},_mouseDistanceMet:function(c){return(Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance)},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})}));
/*
 * jQuery UI Draggable @VERSION
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","./core","./mouse","./widget"],a)}else{a(jQuery)}}(function(a){a.widget("ui.draggable",a.ui.mouse,{version:"@VERSION",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}if(this.options.addClasses){this.element.addClass("ui-draggable")}if(this.options.disabled){this.element.addClass("ui-draggable-disabled")}this._setHandleClassName();this._mouseInit()},_setOption:function(b,c){this._super(b,c);if(b==="handle"){this._setHandleClassName()}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return}this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._removeHandleClassName();this._mouseDestroy()},_mouseCapture:function(c){var d=this.document[0],b=this.options;try{if(d.activeElement&&d.activeElement.nodeName.toLowerCase()!=="body"){a(d.activeElement).blur()}}catch(e){}if(this.helper||b.disabled||a(c.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(c);if(!this.handle){return false}a(b.iframeFix===true?"iframe":b.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")});return true},_mouseStart:function(b){var c=this.options;this.helper=this._createHelper(b);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=false;a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(b,false);this.originalPageX=b.pageX;this.originalPageY=b.pageY;(c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt));this._setContainment();if(this._trigger("start",b)===false){this._clear();return false}this._cacheHelperProportions();if(a.ui.ddmanager&&!c.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,b)}this._mouseDrag(b,true);if(a.ui.ddmanager){a.ui.ddmanager.dragStart(this,b)}return true},_mouseDrag:function(c,d){if(this.offsetParentCssPosition==="fixed"){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(c,true);this.positionAbs=this._convertPositionTo("absolute");if(!d){var b=this._uiHash();if(this._trigger("drag",c,b)===false){this._mouseUp({});return false}this.position=b.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";if(a.ui.ddmanager){a.ui.ddmanager.drag(this,c)}return false},_mouseStop:function(c){var b=this,d=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){d=a.ui.ddmanager.drop(this,c)}if(this.dropped){d=this.dropped;this.dropped=false}if((this.options.revert==="invalid"&&!d)||(this.options.revert==="valid"&&d)||this.options.revert===true||(a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d))){a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(b._trigger("stop",c)!==false){b._clear()}})}else{if(this._trigger("stop",c)!==false){this._clear()}}return false},_mouseUp:function(b){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});if(a.ui.ddmanager){a.ui.ddmanager.dragStop(this,b)}this.element.focus();return a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:true},_setHandleClassName:function(){this._removeHandleClassName();a(this.options.handle||this.element).addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.element.find(".ui-draggable-handle").addBack().removeClass("ui-draggable-handle")},_createHelper:function(c){var b=this.options,d=a.isFunction(b.helper)?a(b.helper.apply(this.element[0],[c])):(b.helper==="clone"?this.element.clone().removeAttr("id"):this.element);if(!d.parents("body").length){d.appendTo((b.appendTo==="parent"?this.element[0].parentNode:b.appendTo))}if(d[0]!==this.element[0]&&!(/(fixed|absolute)/).test(d.css("position"))){d.css("position","absolute")}return d},_adjustOffsetFromHelper:function(b){if(typeof b==="string"){b=b.split(" ")}if(a.isArray(b)){b={left:+b[0],top:+b[1]||0}}if("left" in b){this.offset.click.left=b.left+this.margins.left}if("right" in b){this.offset.click.left=this.helperProportions.width-b.right+this.margins.left}if("top" in b){this.offset.click.top=b.top+this.margins.top}if("bottom" in b){this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top}},_isRootNode:function(b){return(/(html|body)/i).test(b.tagName)||b===this.document[0]},_getParentOffset:function(){var c=this.offsetParent.offset(),b=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==b&&a.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if(this._isRootNode(this.offsetParent[0])){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative"){return{top:0,left:0}}var b=this.element.position(),c=this._isRootNode(this.scrollParent[0]);return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+(!c?this.scrollParent.scrollTop():0),left:b.left-(parseInt(this.helper.css("left"),10)||0)+(!c?this.scrollParent.scrollLeft():0)}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var d,f,g,b=this.options,e=this.document[0];this.relative_container=null;if(!b.containment){this.containment=null;return}if(b.containment==="window"){this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||e.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(b.containment==="document"){this.containment=[0,0,a(e).width()-this.helperProportions.width-this.margins.left,(a(e).height()||e.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(b.containment.constructor===Array){this.containment=b.containment;return}if(b.containment==="parent"){b.containment=this.helper[0].parentNode}f=a(b.containment);g=f[0];if(!g){return}d=f.css("overflow")!=="hidden";this.containment=[(parseInt(f.css("borderLeftWidth"),10)||0)+(parseInt(f.css("paddingLeft"),10)||0),(parseInt(f.css("borderTopWidth"),10)||0)+(parseInt(f.css("paddingTop"),10)||0),(d?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(f.css("borderRightWidth"),10)||0)-(parseInt(f.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(f.css("borderBottomWidth"),10)||0)-(parseInt(f.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=f},_convertPositionTo:function(f,b){if(!b){b=this.position}var e=f==="absolute"?1:-1,c=this._isRootNode(this.scrollParent[0]);return{top:(b.top+this.offset.relative.top*e+this.offset.parent.top*e-((this.cssPosition==="fixed"?-this.offset.scroll.top:(c?0:this.offset.scroll.top))*e)),left:(b.left+this.offset.relative.left*e+this.offset.parent.left*e-((this.cssPosition==="fixed"?-this.offset.scroll.left:(c?0:this.offset.scroll.left))*e))}},_generatePosition:function(h,k){var b,g,i,f,e=this.options,j=this._isRootNode(this.scrollParent[0]),c=h.pageX,d=h.pageY;if(!j||!this.offset.scroll){this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}}if(k){if(this.containment){if(this.relative_container){g=this.relative_container.offset();b=[this.containment[0]+g.left,this.containment[1]+g.top,this.containment[2]+g.left,this.containment[3]+g.top]}else{b=this.containment}if(h.pageX-this.offset.click.left<b[0]){c=b[0]+this.offset.click.left}if(h.pageY-this.offset.click.top<b[1]){d=b[1]+this.offset.click.top}if(h.pageX-this.offset.click.left>b[2]){c=b[2]+this.offset.click.left}if(h.pageY-this.offset.click.top>b[3]){d=b[3]+this.offset.click.top}}if(e.grid){i=e.grid[1]?this.originalPageY+Math.round((d-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY;d=b?((i-this.offset.click.top>=b[1]||i-this.offset.click.top>b[3])?i:((i-this.offset.click.top>=b[1])?i-e.grid[1]:i+e.grid[1])):i;f=e.grid[0]?this.originalPageX+Math.round((c-this.originalPageX)/e.grid[0])*e.grid[0]:this.originalPageX;c=b?((f-this.offset.click.left>=b[0]||f-this.offset.click.left>b[2])?f:((f-this.offset.click.left>=b[0])?f-e.grid[0]:f+e.grid[0])):f}if(e.axis==="y"){c=this.originalPageX}if(e.axis==="x"){d=this.originalPageY}}return{top:(d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:(j?0:this.offset.scroll.top))),left:(c-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:(j?0:this.offset.scroll.left)))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear){this.destroy()}},_trigger:function(c,d,b){b=b||this._uiHash();a.ui.plugin.call(this,c,[d,b,this],true);if(c==="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.Widget.prototype._trigger.call(this,c,d,b)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(e,c,f){var b=f.options,d=a.extend({},c,{item:f.element});f.sortables=[];a(b.connectToSortable).each(function(){var g=a(this).sortable("instance");if(g&&!g.options.disabled){f.sortables.push({instance:g,shouldRevert:g.options.revert});g.refreshPositions();g._trigger("activate",e,d)}})},stop:function(d,b,e){var c=a.extend({},b,{item:e.element});a.each(e.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;e.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=this.shouldRevert}this.instance._mouseStop(d);this.instance.options.helper=this.instance.options._helper;if(e.options.helper==="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",d,c)}})},drag:function(c,b,d){var e=this;a.each(d.sortables,function(){var f=false,g=this;this.instance.positionAbs=d.positionAbs;this.instance.helperProportions=d.helperProportions;this.instance.offset.click=d.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){f=true;a.each(d.sortables,function(){this.instance.positionAbs=d.positionAbs;this.instance.helperProportions=d.helperProportions;this.instance.offset.click=d.offset.click;if(this!==g&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(g.instance.element[0],this.instance.element[0])){f=false}return f})}if(f){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return b.helper[0]};c.target=this.instance.currentItem[0];this.instance._mouseCapture(c,true);this.instance._mouseStart(c,true,true);this.instance.offset.click.top=d.offset.click.top;this.instance.offset.click.left=d.offset.click.left;this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top;d._trigger("toSortable",c);d.dropped=this.instance.element;d.currentItem=d.element;this.instance.fromOutside=d}if(this.instance.currentItem){this.instance._mouseDrag(c)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",c,this.instance._uiHash(this.instance));this.instance._mouseStop(c,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}d._trigger("fromSortable",c);d.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(e,c,f){var d=a("body"),b=f.options;if(d.css("cursor")){b._cursor=d.css("cursor")}d.css("cursor",b.cursor)},stop:function(d,c,e){var b=e.options;if(b._cursor){a("body").css("cursor",b._cursor)}}});a.ui.plugin.add("draggable","opacity",{start:function(e,c,f){var d=a(c.helper),b=f.options;if(d.css("opacity")){b._opacity=d.css("opacity")}d.css("opacity",b.opacity)},stop:function(d,c,e){var b=e.options;if(b._opacity){a(c.helper).css("opacity",b._opacity)}}});a.ui.plugin.add("draggable","scroll",{start:function(d,b,c){if(c.scrollParent[0]!==c.document[0]&&c.scrollParent[0].tagName!=="HTML"){c.overflowOffset=c.scrollParent.offset()}},drag:function(f,e,b){var d=b.options,c=false,g=b.document[0];if(b.scrollParent[0]!==g&&b.scrollParent[0].tagName!=="HTML"){if(!d.axis||d.axis!=="x"){if((b.overflowOffset.top+b.scrollParent[0].offsetHeight)-f.pageY<d.scrollSensitivity){b.scrollParent[0].scrollTop=c=b.scrollParent[0].scrollTop+d.scrollSpeed}else{if(f.pageY-b.overflowOffset.top<d.scrollSensitivity){b.scrollParent[0].scrollTop=c=b.scrollParent[0].scrollTop-d.scrollSpeed}}}if(!d.axis||d.axis!=="y"){if((b.overflowOffset.left+b.scrollParent[0].offsetWidth)-f.pageX<d.scrollSensitivity){b.scrollParent[0].scrollLeft=c=b.scrollParent[0].scrollLeft+d.scrollSpeed}else{if(f.pageX-b.overflowOffset.left<d.scrollSensitivity){b.scrollParent[0].scrollLeft=c=b.scrollParent[0].scrollLeft-d.scrollSpeed}}}}else{if(!d.axis||d.axis!=="x"){if(f.pageY-a(g).scrollTop()<d.scrollSensitivity){c=a(g).scrollTop(a(g).scrollTop()-d.scrollSpeed)}else{if(a(window).height()-(f.pageY-a(g).scrollTop())<d.scrollSensitivity){c=a(g).scrollTop(a(g).scrollTop()+d.scrollSpeed)}}}if(!d.axis||d.axis!=="y"){if(f.pageX-a(g).scrollLeft()<d.scrollSensitivity){c=a(g).scrollLeft(a(g).scrollLeft()-d.scrollSpeed)}else{if(a(window).width()-(f.pageX-a(g).scrollLeft())<d.scrollSensitivity){c=a(g).scrollLeft(a(g).scrollLeft()+d.scrollSpeed)}}}}if(c!==false&&a.ui.ddmanager&&!d.dropBehaviour){a.ui.ddmanager.prepareOffsets(b,f)}}});a.ui.plugin.add("draggable","snap",{start:function(e,c,d){var b=d.options;d.snapElements=[];a(b.snap.constructor!==String?(b.snap.items||":data(ui-draggable)"):b.snap).each(function(){var g=a(this),f=g.offset();if(this!==d.element[0]){d.snapElements.push({item:this,width:g.outerWidth(),height:g.outerHeight(),top:f.top,left:f.left})}})},drag:function(n,A,z){var k,y,u,e,s,h,j,w,p,x,v=z.options,q=v.snapTolerance,f=A.offset.left,c=f+z.helperProportions.width,g=A.offset.top,m=g+z.helperProportions.height;for(p=z.snapElements.length-1;p>=0;p--){s=z.snapElements[p].left;h=s+z.snapElements[p].width;j=z.snapElements[p].top;w=j+z.snapElements[p].height;if(c<s-q||f>h+q||m<j-q||g>w+q||!a.contains(z.snapElements[p].item.ownerDocument,z.snapElements[p].item)){if(z.snapElements[p].snapping){(z.options.snap.release&&z.options.snap.release.call(z.element,n,a.extend(z._uiHash(),{snapItem:z.snapElements[p].item})))}z.snapElements[p].snapping=false;continue}if(v.snapMode!=="inner"){k=Math.abs(j-m)<=q;y=Math.abs(w-g)<=q;u=Math.abs(s-c)<=q;e=Math.abs(h-f)<=q;if(k){A.position.top=z._convertPositionTo("relative",{top:j-z.helperProportions.height,left:0}).top-z.margins.top}if(y){A.position.top=z._convertPositionTo("relative",{top:w,left:0}).top-z.margins.top}if(u){A.position.left=z._convertPositionTo("relative",{top:0,left:s-z.helperProportions.width}).left-z.margins.left}if(e){A.position.left=z._convertPositionTo("relative",{top:0,left:h}).left-z.margins.left}}x=(k||y||u||e);if(v.snapMode!=="outer"){k=Math.abs(j-g)<=q;y=Math.abs(w-m)<=q;u=Math.abs(s-f)<=q;e=Math.abs(h-c)<=q;if(k){A.position.top=z._convertPositionTo("relative",{top:j,left:0}).top-z.margins.top}if(y){A.position.top=z._convertPositionTo("relative",{top:w-z.helperProportions.height,left:0}).top-z.margins.top}if(u){A.position.left=z._convertPositionTo("relative",{top:0,left:s}).left-z.margins.left}if(e){A.position.left=z._convertPositionTo("relative",{top:0,left:h-z.helperProportions.width}).left-z.margins.left}}if(!z.snapElements[p].snapping&&(k||y||u||e||x)){(z.options.snap.snap&&z.options.snap.snap.call(z.element,n,a.extend(z._uiHash(),{snapItem:z.snapElements[p].item})))}z.snapElements[p].snapping=(k||y||u||e||x)}}});a.ui.plugin.add("draggable","stack",{start:function(f,e,d){var g,c=d.options,b=a.makeArray(a(c.stack)).sort(function(h,i){return(parseInt(a(h).css("zIndex"),10)||0)-(parseInt(a(i).css("zIndex"),10)||0)});if(!b.length){return}g=parseInt(a(b[0]).css("zIndex"),10)||0;a(b).each(function(h){a(this).css("zIndex",g+h)});this.css("zIndex",(g+b.length))}});a.ui.plugin.add("draggable","zIndex",{start:function(e,c,f){var d=a(c.helper),b=f.options;if(d.css("zIndex")){b._zIndex=d.css("zIndex")}d.css("zIndex",b.zIndex)},stop:function(d,c,e){var b=e.options;if(b._zIndex){a(c.helper).css("zIndex",b._zIndex)}}});return a.ui.draggable}));